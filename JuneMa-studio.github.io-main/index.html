<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
		<title>JuneMa Studio mobile</title>
		<link rel="stylesheet" href="./mdui-v1.0.1/css/mdui.min.css">
		<style>
			*{
				box-sizing: border-box;
			}
			.jm-body{
				margin-top: 30px;
			}
			.jm-a{
				font-weight: 600;
			}
			.jm-drawer{
				border-radius: 20px 0px 0px 20px;
				width: 61.8vw;
				top: 40px;
			}
			.jm-dialog{
				border-radius: 20px;
			}
			.jm-4-item{
				width: 100%;
				height: 30vw;
				border: 2px solid #fff;
				border-radius: 20px;
			}
			.jm-card{
				width: 100%;
				height: auto;
				padding: 10px 20px 10px 20px;
			}
		</style>
	</head>
	<body class="mdui-theme-layout-auto mdui-theme-primary-red mdui-theme-accent-red mdui-appbar-with-toolbar mdui-appbar-with-tab jm-body">
		<div class="mdui-appbar mdui-appbar-fixed mdui-shadow-0 jm-appbar">
			<div style="height: 30px;" class="mdui-color-theme-600"></div>
			<div id="title" class="mdui-toolbar mdui-color-theme-600 jm-title">
				<span class="mdui-typo-title">JuneMa Studio</span>
				<div class="mdui-toolbar-spacer"></div>
				<span class="mdui-btn mdui-btn-icon" mdui-dialog="{target:'#theme-dialog'}">
					<i class="mdui-icon material-icons">color_lens</i>
				</span>
				<span class="mdui-btn mdui-btn-icon" mdui-drawer="{target:'#right-drawer'}">
					<i class="mdui-icon material-icons">menu</i>
				</span>
			</div>
			<div id="tab" class="mdui-tab mdui-color-theme-400" mdui-tab>
				<a href="#example-tab1" class="jm-a">个人主页</a>
				<a href="#example-tab2" class="jm-a">资源备忘</a>
				<a href="#example-tab3" class="jm-a">个人项目</a>
				<a href="#example-tab4" class="jm-a">其它</a>
			</div>
		</div>
		<div id="example-tab1" class="mdui-p-a-2 jm-page">
			<p>建设中~</p>
			<!-- 测试文件选择器可用性 -->
			<!-- <p>选择文件,若无效请手动设置应用的图片访问权限</p>
			<input type="file" accept="image/png,image/jpg,image/jpeg" onchange="showimg(this)">
			<br>
			<img id="imgshower" src="#" style="width: 50vw;height: auto;margin: auto;" /> -->
		</div>
		<div id="example-tab2" class="mdui-p-a-2 jm-page">
			<p>建设中~</p>
		</div>
		<div id="example-tab3" class="mdui-p-a-2 jm-page">
			<!-- project -->
			<div class="mdui-card jm-card" data-pageurl="./page3/analyzer.html" onclick="loadurl(this)">
				<p class="mdui-typo-title">词法语法分析器</p>
				<p>编译原理课设（2024/05/28）</p>
				<p>已知Bug，在语法分析器中，token取得undefined后不能及时退出分析程序</p>
			</div>
		</div>
		<div id="example-tab4" class="mdui-p-a-2 jm-page">
			<p>建设中~</p>
		</div>
		<div class="mdui-drawer mdui-drawer-right jm-drawer" id="right-drawer"><!-- 侧边栏 -->
			<div class="drawer-content">
				<p>开发者选项：</p>
				<p>清空localstorage：<button onclick="localStorage.clear();">clean</button></p>
			</div>
		</div>
		<div class="mdui-dialog jm-dialog" id="theme-dialog"><!-- 主题选择器 -->
			<div class="mdui-dialog-title">主题选择器</div>
			<div class="mdui-dialog-content">
				<div class="mdui-row-xs-2 mdui-grid-list">
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio jm-theme-1">
							<input type="radio" id="mdui-theme-layout-auto" name="theme-type" checked>
							<i class="mdui-radio-icon"></i>
							自动
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio jm-theme-1">
							<input type="radio" id="mdui-theme-layout-dark" name="theme-type">
							<i class="mdui-radio-icon mdui-color-black"></i>
							深色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio jm-theme-1">
							<input type="radio" id="mdui-theme-layout-light" name="theme-type">
							<i class="mdui-radio-icon mdui-color-white"></i>
							浅色
						</label>
					</div>
				</div>
				<p class="mdui-typo-title">主题色</p>
				<div class="mdui-grid-list mdui-row-xs-3">
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-red" name="primary-color" checked>
							<i class="mdui-radio-icon mdui-color-red-500"></i>
							红色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-pink" name="primary-color">
							<i class="mdui-radio-icon mdui-color-pink-500"></i>
							粉色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-purple" name="primary-color">
							<i class="mdui-radio-icon mdui-color-purple-500"></i>
							紫色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-deep-purple" name="primary-color">
							<i class="mdui-radio-icon mdui-color-deep-purple-500"></i>
							暗紫
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-indigo" name="primary-color">
							<i class="mdui-radio-icon mdui-color-indigo-500"></i>
							湛蓝
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-blue" name="primary-color">
							<i class="mdui-radio-icon mdui-color-blue-500"></i>
							蓝色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-light-blue" name="primary-color">
							<i class="mdui-radio-icon mdui-color-light-blue-500"></i>
							浅蓝
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-cyan" name="primary-color">
							<i class="mdui-radio-icon mdui-color-cyan-500"></i>
							青色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-teal" name="primary-color">
							<i class="mdui-radio-icon mdui-color-teal-500"></i>
							天青
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-green name="primary-color">
							<i class="mdui-radio-icon mdui-color-green-500"></i>
							绿色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-light-green" name="primary-color">
							<i class="mdui-radio-icon mdui-color-light-green-500"></i>
							浅绿
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-lime" name="primary-color">
							<i class="mdui-radio-icon mdui-color-lime-500"></i>
							柠檬
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-yellow" name="primary-color">
							<i class="mdui-radio-icon mdui-color-yellow-500"></i>
							黄色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-amber" name="primary-color">
							<i class="mdui-radio-icon mdui-color-amber-500"></i>
							明黄
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-orange" name="primary-color">
							<i class="mdui-radio-icon mdui-color-orange-500"></i>
							橙色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-deep-orange" name="primary-color">
							<i class="mdui-radio-icon mdui-color-deep-orange-500"></i>
							橘红
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-brown" name="primary-color">
							<i class="mdui-radio-icon mdui-color-brown-500"></i>
							棕色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-grey" name="primary-color">
							<i class="mdui-radio-icon mdui-color-grey-500"></i>
							灰色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-primary-blue-grey" name="primary-color">
							<i class="mdui-radio-icon mdui-color-blue-grey-500"></i>
							蓝灰
						</label>
					</div>
				</div>
				<p class="mdui-typo-title">强调色</p>
				<div class="mdui-grid-list mdui-row-xs-3">
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-red" name="accent-color" checked>
							<i class="mdui-radio-icon mdui-color-red-a200"></i>
							红色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-pink" name="accent-color">
							<i class="mdui-radio-icon mdui-color-pink-a200"></i>
							粉色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-purple" name="accent-color">
							<i class="mdui-radio-icon mdui-color-purple-a200"></i>
							紫色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-deep-purple" name="accent-color">
							<i class="mdui-radio-icon mdui-color-deep-purple-a200"></i>
							暗紫
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-indigo" name="accent-color">
							<i class="mdui-radio-icon mdui-color-indigo-a200"></i>
							湛蓝
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-blue" name="accent-color">
							<i class="mdui-radio-icon mdui-color-blue-a200"></i>
							蓝色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-light-blue" name="accent-color">
							<i class="mdui-radio-icon mdui-color-light-blue-a200"></i>
							浅蓝
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-cyan" name="accent-color">
							<i class="mdui-radio-icon mdui-color-cyan-a200"></i>
							青色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-teal" name="accent-color">
							<i class="mdui-radio-icon mdui-color-teal-a200"></i>
							天青
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-green" name="accent-color">
							<i class="mdui-radio-icon mdui-color-green-a200"></i>
							绿色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-light-green" name="accent-color">
							<i class="mdui-radio-icon mdui-color-light-green-a200"></i>
							浅绿
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-lime" name="accent-color">
							<i class="mdui-radio-icon mdui-color-lime-a200"></i>
							柠檬
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-yellow" name="accent-color">
							<i class="mdui-radio-icon mdui-color-yellow-a200"></i>
							黄色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-amber" name="accent-color">
							<i class="mdui-radio-icon mdui-color-amber-a200"></i>
							明黄
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-orange" name="accent-color">
							<i class="mdui-radio-icon mdui-color-orange-a200"></i>
							橙色
						</label>
					</div>
					<div class="mdui-col">
						<div class="mdui-grid-tile"></div>
						<label class="mdui-radio">
							<input type="radio" id="mdui-theme-accent-deep-orange" name="accent-color">
							<i class="mdui-radio-icon mdui-color-deep-orange-a200"></i>
							橘红
						</label>
					</div>
				</div>
			</div>
			<div class="mdui-dialog-actions">
				<button class="mdui-btn" id="reset_bt" onclick="resettheme()" mdui-dialog-close>重置</button>
				<button class="mdui-btn" id="close_bt" onclick="settheme()" mdui-dialog-close>应用选择</button>
			</div>
		</div>
	</body>
	<script src="./mdui-v1.0.1/js/mdui.min.js"></script>
	<script>
		// 本地存储配置读取并加载样式信息-----------------------------------------------------------------
		window.onload = function(){
			document.getElementById(localStorage.getItem('theme_type')).checked = 'checked';
			document.getElementById(localStorage.getItem('theme_primary')).checked = 'checked';
			document.getElementById(localStorage.getItem('theme_accent')).checked = 'checked';
			settheme();
		}
		// 本地样式配置加载完成---------------------------------------------------------------------------
		// 横划切换页面----------------------------------------------------------------------------------
		var baritem = document.getElementsByClassName('jm-a');
		var body = document.querySelector('body');
		var startx ,starty,endx,endy,activeindex;
		body.addEventListener("touchstart",function(e){
			startx = e.touches[0].screenX;
			starty = e.touches[0].screenY;
			for(var i = 0;i < baritem.length;i++){
				if(baritem[i].classList.length == 2){
					activeindex = i;
				}
			}
		});
		body.addEventListener("touchend",function(e){
			endx = e.changedTouches[0].screenX;
			endy = e.changedTouches[0].screenY;
			var x = endx - startx;
			var y = endy - starty;
			if(x > Math.abs(y)){
				if(activeindex != 0){
					baritem[activeindex - 1].click();
				}
			}else if(x < -Math.abs(y)){
				if(activeindex != 3){
					baritem[activeindex + 1].click();
				}
			}else if(x <= Math.abs(y) && x >= -Math.abs(y)){
				return 0;
			}
		});
		// 横划切换页面功能结束---------------------------------------------------------------------------
		// 主题选择器功能--------------------------------------------------------------------------------
		// 这里是设置主题颜色并关闭选择器的主方法
		function settheme(){
			var bodyclass = document.getElementsByTagName('body')[0].classList;
			var theme_types = document.getElementsByName("theme-type");
			var primary_colors = document.getElementsByName("primary-color");
			var accent_colors = document.getElementsByName("accent-color");
			var select_type,select_primary,select_accent;
			var needkeep = ['mdui-appbar-with-toolbar','mdui-appbar-with-tab','jm-body','mdui-loaded','mdui-locked'];
			// 获取选中的主题类型
			for(var j = 0;j < theme_types.length;j++){
				if(theme_types[j].checked){
					select_type = theme_types[j].id;
				}
			}
			// 获取选中的主题色
			for(var k = 0;k < primary_colors.length;k++){
				if(primary_colors[k].checked){
					select_primary = primary_colors[k].id;
				}
			}
			// 获取选中的强调色
			for(var l = 0;l < accent_colors.length;l++){
				if(accent_colors[l].checked){
					select_accent = accent_colors[l].id;
				}
			}
			// 获取与参照有差异的类名
			var arrys = delbetween(bodyclass,needkeep);
			// 删除旧类名
			document.getElementsByTagName('body')[0].classList.remove(arrys[0],arrys[1],arrys[2]);
			// 添加新类名
			document.getElementsByTagName('body')[0].classList.add(select_type,select_primary,select_accent);
			// 配置信息保存本地或更新本地配置信息
			localStorage.setItem('theme_type',select_type);
			localStorage.setItem('theme_primary',select_primary);
			localStorage.setItem('theme_accent',select_accent);
		}
		// 这里是主题选择器的重置方法
		function resettheme(){
			document.querySelector('#mdui-theme-layout-auto').checked = 'checked';
			document.querySelector('#mdui-theme-primary-red').checked = 'checked';
			document.querySelector('#mdui-theme-accent-red').checked = 'checked';
			settheme();
		}
		// 主题选择器功能结束----------------------------------------------------------------------------
		// 这里是一个自定义方法,目的是在AB两个数组中求差,即若B包含于A,求A-B----------------------------------
		function delbetween(Arry,arry){
			var finalarry = [];
			for(var m = 0;m < Arry.length;m++){
				if(arry.indexOf(Arry[m]) == -1){
					finalarry.push(Arry[m]);
				}else{
					// console.log(arry+"中包含元素"+Arry[m]);
				}
			}
			return finalarry;
		}
		// 去同存异结束---------------------------------------------------------------------------------
		// 选择图片并预览功能---------------------------------------------------------------------------
		function showimg(file){
			var reader = new FileReader();
			var img = document.querySelector('#imgshower');
			reader.onload = function(ele){
				img.width = '100';
				img.height = '100';
				img.src = ele.target.result;
			}
			reader.readAsDataURL(file.files[0]);
		}
		// 图片选择预览功能结束--------------------------------------------------------------------------
		// 文档跳转功能---------------------------------------------------------------------------------
		function loadurl(e){
			window.open(e.dataset.pageurl,'_parent');
		}
	</script>
</html>